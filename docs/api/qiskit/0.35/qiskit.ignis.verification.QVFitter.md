---
title: QVFitter
description: API reference for qiskit.ignis.verification.QVFitter
in_page_toc_min_heading_level: 1
python_api_type: class
python_api_name: qiskit.ignis.verification.QVFitter
---

# QVFitter

<span id="qiskit.ignis.verification.QVFitter" />

`QVFitter(backend_result=None, statevector_result=None, qubit_lists=None)`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Bases: `object`

Class for fitters for quantum volume.

**Parameters**

*   **backend\_result** (*list*) – list of results (qiskit.Result).
*   **statevector\_result** (*list*) – the ideal statevectors of each circuit
*   **qubit\_lists** (*list*) – list of qubit lists (what was passed to the circuit generation)

## Methods

### add\_data

<span id="qiskit.ignis.verification.QVFitter.add_data" />

`QVFitter.add_data(new_backend_result, rerun_fit=True)`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Add a new result. Re calculate fit

**Parameters**

*   **new\_backend\_result** (*list*) – list of qv results
*   **rerun\_fit** (*bool*) – re calculate the means and fit the result

**Raises**

**QiskitError** – If the ideal distribution isn’t loaded yet

#### Additional information:

Assumes that ‘result’ was executed is the output of circuits generated by qv\_circuits,

### add\_statevectors

<span id="qiskit.ignis.verification.QVFitter.add_statevectors" />

`QVFitter.add_statevectors(new_statevector_result)`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Add the ideal results and convert to the heavy outputs.

Assume the result is from ‘statevector\_simulator’

**Parameters**

**new\_statevector\_result** (*list*) – ideal results

**Raises**

**QiskitError** – If the result has already been added for the circuit

### calc\_confidence\_level

<span id="qiskit.ignis.verification.QVFitter.calc_confidence_level" />

`QVFitter.calc_confidence_level(z_value)`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Calculate confidence level using z value.

Accumulative probability for standard normal distribution in \[-z, +infinity] is 1/2 (1 + erf(z/sqrt(2))), where z = (X - mu)/sigma = (hmean - 2/3)/sigma

**Parameters**

**z\_value** (*float*) – z value in in standard normal distibution.

**Returns**

confidence level in decimal (not percentage).

**Return type**

float

### calc\_data

<span id="qiskit.ignis.verification.QVFitter.calc_data" />

`QVFitter.calc_data()`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Make a count dictionary for each unique circuit from all the results.

Calculate the heavy output probability.

#### Additional information:

Assumes that ‘result’ was executed is the output of circuits generated by qv\_circuits,

### calc\_statistics

<span id="qiskit.ignis.verification.QVFitter.calc_statistics" />

`QVFitter.calc_statistics()`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Convert the heavy outputs in the different trials into mean and error for plotting.

Here we assume the error is due to a binomial distribution. Error (standard deviation) for binomial distribution is sqrt(np(1-p)), where n is the number of trials (self.\_ntrials) and p is the success probability (self.\_ydata\[0]\[depthidx]/self.\_ntrials).

### calc\_z\_value

<span id="qiskit.ignis.verification.QVFitter.calc_z_value" />

`QVFitter.calc_z_value(mean, sigma)`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Calculate z value using mean and sigma.

**Parameters**

*   **mean** (*float*) – mean
*   **sigma** (*float*) – standard deviation

**Returns**

z\_value in standard normal distibution.

**Return type**

float

### plot\_hop\_accumulative

<span id="qiskit.ignis.verification.QVFitter.plot_hop_accumulative" />

`QVFitter.plot_hop_accumulative(depth, ax=None, figsize=(7, 5))`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Plot individual and accumulative heavy output probability (HOP) as a function of number of trials.

**Parameters**

*   **depth** (*int*) – depth of QV circuits
*   **ax** (*Axes or None*) – plot axis (if passed in).
*   **figsize** (*tuple*) – figure size in inches.

**Raises**

**ImportError** – If matplotlib is not installed.

**Returns**

A figure of individual and accumulative HOP as a function of number of trials, with 2-sigma confidence interval and 2/3 threshold.

**Return type**

matplotlib.Figure

### plot\_qv\_data

<span id="qiskit.ignis.verification.QVFitter.plot_qv_data" />

`QVFitter.plot_qv_data(ax=None, show_plt=True, figsize=(7, 5), set_title=True, title=None)`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Plot the qv data as a function of depth

**Parameters**

*   **ax** (*Axes or None*) – plot axis (if passed in).
*   **show\_plt** (*bool*) – display the plot.
*   **figsize** (*tuple*) – Figure size in inches.
*   **set\_title** (*bool*) – set figure title.
*   **title** (*String or None*) – text for setting figure title

**Raises**

**ImportError** – If matplotlib is not installed.

**Returns**

A figure of Quantum Volume data (heavy output probability) with two-sigma error bar as a function of circuit depth.

**Return type**

matplotlib.Figure

### plot\_qv\_trial

<span id="qiskit.ignis.verification.QVFitter.plot_qv_trial" />

`QVFitter.plot_qv_trial(depth, trial_index, figsize=(7, 5), ax=None)`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Plot individual trial. :param depth: circuit depth :type depth: int :param trial\_index: trial index :type trial\_index: int :param figsize: Figure size in inches. :type figsize: tuple :param ax: plot axis (if passed in). :type ax: Axes or None

**Returns**

A figure for histogram of ideal and experiment probabilities.

**Return type**

matplotlib.Figure

### quantum\_volume

<span id="qiskit.ignis.verification.QVFitter.quantum_volume" />

`QVFitter.quantum_volume()`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Return the volume for each depth.

**Returns**

List of quantum volumes

**Return type**

list

### qv\_success

<span id="qiskit.ignis.verification.QVFitter.qv_success" />

`QVFitter.qv_success()`[GitHub](https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/verification/quantum_volume/fitters.py "view source code")

Return whether each depth was successful (> 2/3 with confidence level > 0.977 corresponding to z\_value = 2) and the confidence level.

**Returns**

List of list of 2 elements for each depth: - success True/False - confidence level

**Return type**

list

## Attributes

<span id="qiskit.ignis.verification.QVFitter.depths" />

### depths

Return depth list.

<span id="qiskit.ignis.verification.QVFitter.heavy_output_counts" />

### heavy\_output\_counts

Return the number of heavy output counts as measured.

<span id="qiskit.ignis.verification.QVFitter.heavy_output_prob_ideal" />

### heavy\_output\_prob\_ideal

Return the heavy output probability ideally.

<span id="qiskit.ignis.verification.QVFitter.heavy_outputs" />

### heavy\_outputs

Return the ideal heavy outputs dictionary.

<span id="qiskit.ignis.verification.QVFitter.qubit_lists" />

### qubit\_lists

Return depth list.

<span id="qiskit.ignis.verification.QVFitter.results" />

### results

Return all the results.

<span id="qiskit.ignis.verification.QVFitter.ydata" />

### ydata

Return the average and std of the output probability.

